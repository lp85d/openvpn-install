# openvpn-install

`https://raw.githubusercontent.com/lp85d/openvpn-install/refs/heads/main/openvpn-install.sh`

Да, этот скрипт выполняет следующие действия:

1. **Проверка на root-права**: Проверяет, что скрипт выполняется с правами суперпользователя.
2. **Определение сетевого интерфейса и IP-адреса**: Автоматически определяет интерфейс с выходом в интернет и IP-адрес сервера.
3. **Установка необходимых пакетов**: `openvpn` и `easy-rsa`.
4. **Инициализация PKI и создание сертификатов**:
   - Генерирует корневой сертификат (CA).
   - Создаёт серверный сертификат и ключ.
   - Генерирует клиентский сертификат и ключ.
   - Генерирует ключ для защиты от атак типа "man-in-the-middle" (`ta.key`).
5. **Создание конфигурационного файла сервера**: Записывает основные настройки OpenVPN.
6. **Настройка NAT для маршрутизации**: Добавляет правило `iptables` для маскарадинга исходящего трафика.
7. **Создание службы для OpenVPN**: Создаёт systemd-сервис для автоматического запуска OpenVPN при старте системы.
8. **Запуск OpenVPN**: Перезагружает демоны systemd, включает и запускает OpenVPN.
9. **Создание клиентского конфигурационного файла**: Генерирует `client.ovpn`, который можно использовать для подключения клиентов к серверу.

Таким образом, он **полностью автоматизирует установку и настройку OpenVPN**. После выполнения скрипта сервер будет готов к использованию, а файл `/etc/openvpn/client.ovpn` можно использовать для подключения клиентов.
